<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>포트폴리오</title>
</head>
<body>

    <div id="intro">
        <!-- 소개 섹션 -->
    </div>

    <div id="project"></div>

    <div class="project-popup" id="projectPopup">
        <div class="popup-content">
            <span class="popup-close" onclick="closePopup()">X</span>
            <div id="popupDetails">프로젝트 상세 정보</div>
        </div>
    </div>

    <script>
        const projectsData = require('./project.json');
        console.log(projectsData);


        function renderProjects() {
            const projectContainer = document.getElementById('project');
            for (const year in projectsData) {
                const yearDiv = document.createElement('div');
                const yearHeader = document.createElement('h2');
                yearHeader.textContent = year;
                yearDiv.appendChild(yearHeader);
                
                const projectList = document.createElement('ul');
                projectsData[year].forEach(project => {
                    const projectItem = document.createElement('li');
                    projectItem.classList.add('project-item');
                    projectItem.onclick = () => showPopup(project.title);

                    const projectImage = document.createElement('img');
                    projectImage.src = project.img;
                    projectItem.appendChild(projectImage);

                    const projectTitle = document.createElement('p');
                    projectTitle.textContent = project.title;
                    projectItem.appendChild(projectTitle);

                    projectList.appendChild(projectItem);
                });

                yearDiv.appendChild(projectList);
                projectContainer.appendChild(yearDiv);
            }
        }

        function showPopup(projectTitle) {
            var popup = document.getElementById("projectPopup");
            var details = document.getElementById("popupDetails");
            details.innerHTML = "<h3>" + projectTitle + "</h3>";
            popup.style.display = "block";
        }

        function closePopup() {
            var popup = document.getElementById("projectPopup");
            popup.style.display = "none";
        }

        // 페이지 로딩 시 프로젝트 렌더링
        window.onload = renderProjects;
    </script>

</body>
</html>